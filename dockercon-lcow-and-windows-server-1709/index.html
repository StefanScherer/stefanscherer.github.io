<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>DockerCon: LCOW and Windows Server 1709</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=4f5d64f6ae">


    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/amp/">
    
    <meta property="og:site_name" content="Stefan Scherer's Blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="DockerCon: LCOW and Windows Server 1709">
    <meta property="og:description" content="Last week was a busy week as a Docker Captain. Many of us came to Copenhagen to DockerCon EU 2017. You may have heard of the surprising news about Kubernetes coming to Docker. But there were also some other new announcements about Windows Containers. Docker on Windows Workshop On Monday">
    <meta property="og:url" content="https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/">
    <meta property="article:published_time" content="2017-10-28T00:18:11.000Z">
    <meta property="article:modified_time" content="2017-10-28T00:24:07.000Z">
    <meta property="article:tag" content="DockerCon">
    <meta property="article:tag" content="windows-containers">
    <meta property="article:tag" content="LCOW">
    <meta property="article:tag" content="Windows Server 1709">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="DockerCon: LCOW and Windows Server 1709">
    <meta name="twitter:description" content="Last week was a busy week as a Docker Captain. Many of us came to Copenhagen to DockerCon EU 2017. You may have heard of the surprising news about Kubernetes coming to Docker. But there were also some other new announcements about Windows Containers. Docker on Windows Workshop On Monday">
    <meta name="twitter:url" content="https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Stefan Scherer">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="DockerCon, windows-containers, LCOW, Windows Server 1709">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Stefan Scherer&#x27;s Blog",
        "logo": {
            "@type": "ImageObject",
            "url": "https://stefanscherer.github.io/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Stefan Scherer",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/0c09487dd4b63737bd5004333230a77b?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://stefanscherer.github.io/author/stefan/",
        "sameAs": []
    },
    "headline": "DockerCon: LCOW and Windows Server 1709",
    "url": "https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/",
    "datePublished": "2017-10-28T00:18:11.000Z",
    "dateModified": "2017-10-28T00:24:07.000Z",
    "keywords": "DockerCon, windows-containers, LCOW, Windows Server 1709",
    "description": "Last week was a busy week as a Docker Captain. Many of us came to Copenhagen to DockerCon EU 2017. You may have heard of the surprising news about Kubernetes coming to Docker. But there were also some other new announcements about Windows Containers. Docker on Windows Workshop On Monday",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://stefanscherer.github.io/"
    }
}
    </script>

    <script type="text/javascript" src="../public/ghost-sdk.min.js?v=4f5d64f6ae"></script>
<script type="text/javascript">
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "fcf9918858bf"
});
</script>
    <meta name="generator" content="Ghost 1.8">
    <link rel="alternate" type="application/rss+xml" title="Stefan Scherer's Blog" href="https://stefanscherer.github.io/rss/index.rss">
</head>
<body class="post-template tag-dockercon tag-windows-containers tag-lcow tag-windows-server-1709 nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home"><a href="https://stefanscherer.github.io/">Home</a></li>
            <li class="nav-talks"><a href="https://stefanscherer.github.io/talks/">Talks</a></li>
            <li class="nav-twitter"><a href="https://twitter.com/stefscherer">Twitter</a></li>
            <li class="nav-github"><a href="https://github.com/StefanScherer">GitHub</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="https://stefanscherer.github.io/rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-dockercon tag-windows-containers tag-lcow tag-windows-server-1709">

        <header class="post-header">
            <h1 class="post-title">DockerCon: LCOW and Windows Server 1709</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2017-10-28">28 October 2017</time>  on <a href="../tag/dockercon/">DockerCon</a>, <a href="../tag/windows-containers/">windows-containers</a>, <a href="../tag/lcow/">LCOW</a>, <a href="../tag/windows-server-1709/">Windows Server 1709</a>
            </section>
        </header>

        <section class="post-content">
            <div class="kg-card-markdown"><p>Last week was a busy week as a Docker Captain. Many of us came to Copenhagen to DockerCon EU 2017. You may have heard of the surprising news about Kubernetes coming to Docker. But there were also some other new announcements about Windows Containers.</p>
<h2 id="dockeronwindowsworkshop">Docker on Windows Workshop</h2>
<p>On Monday I helped <a href="https://twitter.com/EltonStoneman">Elton Stoneman</a> in his Docker on Windows Workshop. This time it was a full-day workshop and it was fully packed with 50 people.</p>
<p><img src="../content/images/2017/10/dowws.jpg" alt="Docker on Windows Workshop"></p>
<p>Elton is always running the workshop at a rapic pace, but don't worry the workshop material is all public <a href="https://github.com/sixeyed/docker-windows-workshop">available on GitHub</a>. So we went through dockerizing <a href="http://ASP.NET">ASP.NET</a> apps, adding Prometheus, Grafana and an ELK stack for monitoring, building a Jenkins CI pipeline and finally running a Docker Swarm. There is lots of things to look up in the material. If you prefer a book, I can recommend his <a href="https://www.amazon.de/Docker-Windows-Elt%E2%80%A6">Docker on Windows</a> book which is also fully packed with many tips and tricks.</p>
<h2 id="lcowtheinsidestory">LCOW - The Inside Story</h2>
<p>One of my favorite talks was by <a href="https://twitter.com/gigastarks">John Starks</a> from Microsoft about Linux Container on Windows - The Inside Story. He explained how LinuxKit is used to run a small HyperV VM for the Linux containers to provide the Linux kernel. On his Windows 10 1709 machine he also gave pretty good live demos. The <a href="https://dockercon.docker.com/watch/U7Bxp66uKmemZssjCTyXkm">video is online</a> and is worth watching.</p>
<p><img src="../content/images/2017/10/dcon-lcow.jpg" alt="Linux and Windows containers side-by-side"></p>
<p>In the photo you can see an alpine and nanoserver container running side-by-side. So you will no longer need to switch between Linux and Windows containers, it just works. He also showed that volumes work between Linux and Windows containers. This demo was done with a special Docker engine as not all pull requests haven't been merged. But still challenging for me to try this on a own machine ...</p>
<h2 id="windowsserver1709">Windows Server 1709</h2>
<p>During the DockerCon week Microsoft has announced the availability of Windows Server Version 1709 for download. I first looked at the Azure Portal, but found nothing yet. I also couldn't find the downloads.</p>
<p>So after the LCOW talk I used a Windows 10 VM in Azure and installed the Fall Creators Update to have 1709 on that desktop machine. I found the missing pull request and compiled a Docker engine from source and then I had my LCOW moment:</p>
<p><img src="../content/images/2017/10/docker-run-lcow.gif" alt="docker-run-lcow"></p>
<p>When you see this the first time working and know what technical details had to be solved make make it look so simple and easy - awesome!</p>
<p>The next day I found the Windows Server 1709 ISO in my MSDN subscription. So I could start working on a Packer template in my <a href="https://github.com/StefanScherer/packer-windows">packer-windows</a> GitHub repo to automate the creation of such Windows VM's. But DockerCon is to meet people and learn new things: <a href="https://twitter.com/NicholasDille">Nicholas Dille</a> went another very interesting way to <a href="http://dille.name/blog/2017/10/25/building-a-windowscontainer-docker-host-without-running-windows-setup/">build a VM with Docker without running Windows Setup</a>.</p>
<h2 id="smallerwindowsimages">Smaller Windows images</h2>
<p>In the last months we could follow the progress of the Windows Server in several Insider builds. I blogged about the <a href="https://stefanscherer.github.io/exploring-new-nanoserver-insider-images/">smaller NanoServer Insider images</a> in July going down to 80-90 MByte. Now with the new release of Windows Server 1709 and Windows 10 version 1709 we now can use official images.</p>
<ul>
<li>microsoft/windowsservercore:1709</li>
<li>microsoft/nanoserver:1709</li>
<li>microsoft/dotnet:2.0.0-*-nanoserver-1709</li>
<li>microsoft/aspnet:4.7.1-windowsservercore-1709</li>
</ul>
<p>The biggest discussion is about having no PowerShell in the small nanoserver image. For me it's a nice fit to just <code>COPY</code> deploy microservices into the Windows image.</p>
<p>I haven't seen an official PowerShell base image based on nanoserver, but there is at least the beta version</p>
<ul>
<li>microsoft/powershell:6.0.0-beta.9-nanoserver-1709</li>
</ul>
<p>I also have pushed some images to the Docker Hub to get started with other languages and tools.</p>
<p><img src="../content/images/2017/10/Bildschirmfoto-2017-10-19-um-11.14.43.png" alt="Bildschirmfoto-2017-10-19-um-11.14.43"></p>
<p>If you don't have HyperV installed in Windows Server 1709 (maybe you are running a VM in the Cloud) then you cannot run older Windows Docker image on the new server. All images have to be built based on the new 1709 base images.</p>
<p>Windows 10 users always use HyperV to run Linux or Windows containers, so you don't feel that hard constraint on your developer machine.</p>
<p>It will be interesting to see how the multiple Windows versions evolve and when the next Insider program is giving us early access to the upcoming features.</p>
<h2 id="captainshackday">Captains Hack Day</h2>
<p>On our Docker Captains Hack Day <a href="https://twitter.com/mikesir87">Michael Irwin</a> has started a better <a href="https://github.com/mikesir87/swarm-viz">Swarm Visualizer 2.0</a>. During the day we have added a first CI pipeline and - of course - Windows support. But not only Windows! With some magic multi-stage multi-arch builds we also managed to cross-build the visualizer on an Intel machine and create a Docker image for IBM z390 mainframes. <a href="https://twitter.com/estesp">Phil Estes</a> tested the image in the IBM cloud. I'll write a more detailed blog post about how to cross-build Node.js apps with Docker.</p>
<p><img src="../content/images/2017/10/captain-hack-day.jpg" alt="captain-hack-day"></p>
<p>That was a fascinating week at DockerCon. Thanks to Jenny, Ashlinn, Victor, Mano ... for making this event so wonderful. I had a lot of hallway tracks to talk with many people about Windows Containers in devolpment and production. Share and learn!</p>
<p>Stefan<br>
<a href="https://twitter.com/stefscherer">@stefscherer</a></p>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/stefan/" style="background-image: url(http://www.gravatar.com/avatar/0c09487dd4b63737bd5004333230a77b?s&amp;)"><span class="hidden">Stefan Scherer's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/stefan/">Stefan Scherer</a></h4>

                    <p>Read <a href="../author/stefan/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=DockerCon%3A%20LCOW%20and%20Windows%20Server%201709&amp;url=https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://stefanscherer.github.io/dockercon-lcow-and-windows-server-1709/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//stefanscherersblog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../cross-build-nodejs-with-docker/">
        <section class="post">
            <h2>Cross-build a Node.js app with Docker and deploy to IBM Cloud</h2>
            <p>After the DockerCon EU and the Moby Summit in Copenhagen last week we also had an additional Docker Captain's…</p>
        </section>
    </a>
    <a class="read-next-story prev no-cover" href="../use-docker-to-search-in-320-million-pwned-passwords/">
        <section class="post">
            <h2>Use Docker to Search in 320 Million Pwned Passwords</h2>
            <p>This week Troy Hunt, a security researcher announced a freely downloadable list of pwned passwords. Troy is the creator…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="https://stefanscherer.github.io">Stefan Scherer's Blog</a> © 2018</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=4f5d64f6ae"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=4f5d64f6ae"></script>

</body>
</html>